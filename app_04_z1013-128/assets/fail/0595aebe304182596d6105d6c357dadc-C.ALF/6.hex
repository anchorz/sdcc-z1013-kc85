00000000  00 34 ff 3b 00 02 a0 b8  9f c0 42 2e 46 d3 d3 d3  |.4.;......B.F...|
00000010  4d 55 4c 54 49 54 41 53  4b 31 20 20 20 20 20 20  |MULTITASK1      |
00000020  28 20 46 38 33 20 4d 75  6c 74 69 74 61 73 6b 20  |( F83 Multitask |
00000030  20 32 34 30 35 38 38 29  20 20 20 20 20 20 20 20  | 240588)        |
00000040  4f 4e 4c 59 20 46 4f 52  54 48 20 41 4c 53 4f 20  |ONLY FORTH ALSO |
00000050  44 45 46 49 4e 49 54 49  4f 4e 53 20 20 20 20 20  |DEFINITIONS     |
00000060  48 45 58 20 20 20 20 20  20 20 20 20 20 20 20 20  |HEX             |
00000070  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00000080  43 4f 44 45 20 28 50 41  55 53 45 29 20 20 20 28  |CODE (PAUSE)   (|
00000090  20 2d 2d 20 29 20 20 20  20 20 20 20 20 20 20 20  | -- )           |
000000a0  20 20 20 43 35 20 43 2c  20 45 35 46 44 20 2c 20  |   C5 C, E5FD , |
000000b0  35 42 45 44 20 2c 20 55  50 20 2c 20 32 31 20 20  |5BED , UP , 21  |
000000c0  20 20 20 43 2c 20 30 20  2c 20 20 33 39 20 43 2c  |   C, 0 ,  39 C,|
000000d0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
000000e0  20 20 20 45 42 20 43 2c  20 32 33 37 33 20 2c 20  |   EB C, 2373 , |
000000f0  32 33 37 32 20 2c 20 32  33 32 33 20 2c 20 20 20  |2372 , 2323 ,   |
00000100  20 20 20 32 33 35 45 20  2c 20 45 42 35 36 20 2c  |   235E , EB56 ,|
00000110  20 45 39 20 43 2c 20 45  4e 44 2d 43 4f 44 45 20  | E9 C, END-CODE |
00000120  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000140  43 4f 44 45 20 52 45 53  54 41 52 54 20 20 20 28  |CODE RESTART   (|
00000150  20 2d 2d 20 29 20 20 20  20 20 20 20 20 20 20 20  | -- )           |
00000160  20 20 20 31 31 20 43 2c  20 2d 34 20 2c 20 31 39  |   11 C, -4 , 19|
00000170  45 31 20 2c 20 32 32 20  43 2c 20 55 50 20 20 20  |E1 , 22 C, UP   |
00000180  20 20 20 2c 20 20 32 33  35 45 20 2c 20 45 42 35  |   ,  235E , EB5|
00000190  36 20 2c 20 46 39 20 43  2c 20 20 20 20 20 20 20  |6 , F9 C,       |
000001a0  20 20 20 45 31 46 44 20  2c 20 20 43 31 20 43 2c  |   E1FD ,  C1 C,|
000001b0  20 43 33 20 43 2c 20 3e  4e 45 58 54 20 2c 20 20  | C3 C, >NEXT ,  |
000001c0  20 20 20 45 4e 44 2d 43  4f 44 45 20 20 20 20 20  |   END-CODE     |
000001d0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000220  28 20 4d 61 6e 69 70 75  6c 61 74 65 20 74 61 73  |( Manipulate tas|
00000230  6b 73 20 20 32 38 30 35  38 38 29 20 20 20 20 20  |ks  280588)     |
00000240  36 20 43 4f 4e 53 54 41  4e 54 20 49 4e 54 23 20  |6 CONSTANT INT# |
00000250  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000280  3a 20 4c 4f 43 41 4c 20  20 20 28 20 62 61 73 65  |: LOCAL   ( base|
00000290  20 61 64 72 20 2d 2d 20  61 64 72 27 20 29 20 20  | adr -- adr' )  |
000002a0  20 20 20 20 55 50 20 40  20 2d 20 20 2b 20 3b 20  |    UP @ -  + ; |
000002b0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
000002c0  3a 20 40 4c 49 4e 4b 20  20 20 28 20 2d 2d 20 61  |: @LINK   ( -- a|
000002d0  64 72 20 29 20 20 4c 49  4e 4b 20 40 20 3b 20 20  |dr )  LINK @ ;  |
000002e0  3a 20 21 4c 49 4e 4b 20  20 20 28 20 61 64 72 20  |: !LINK   ( adr |
000002f0  2d 2d 20 29 20 20 4c 49  4e 4b 20 21 20 3b 20 20  |-- )  LINK ! ;  |
00000300  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000320  3a 20 53 4c 45 45 50 20  20 20 28 20 61 64 72 20  |: SLEEP   ( adr |
00000330  2d 2d 20 29 20 20 43 33  30 30 20 53 57 41 50 20  |-- )  C300 SWAP |
00000340  20 20 20 20 45 4e 54 52  59 20 4c 4f 43 41 4c 20  |    ENTRY LOCAL |
00000350  21 20 3b 20 20 20 20 20  20 20 20 20 20 20 20 20  |! ;             |
00000360  3a 20 57 41 4b 45 20 20  20 20 28 20 61 64 72 20  |: WAKE    ( adr |
00000370  2d 2d 20 29 20 20 20 20  20 20 20 20 20 20 20 20  |-- )            |
00000380  20 20 20 20 43 37 20 49  4e 54 23 20 38 20 2a 20  |    C7 INT# 8 * |
00000390  2b 20 31 30 30 20 2a 20  20 20 20 20 20 20 20 20  |+ 100 *         |
000003a0  20 20 20 20 53 57 41 50  20 20 45 4e 54 52 59 20  |    SWAP  ENTRY |
000003b0  4c 4f 43 41 4c 20 21 20  3b 20 20 20 20 20 20 20  |LOCAL ! ;       |
000003c0  3a 20 53 54 4f 50 20 20  20 20 28 20 2d 2d 20 29  |: STOP    ( -- )|
000003d0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
000003e0  20 20 20 20 55 50 20 40  20 53 4c 45 45 50 20 50  |    UP @ SLEEP P|
000003f0  41 55 53 45 20 3b 20 20  20 20 20 20 20 20 20 20  |AUSE ;          |
00000400  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000420  28 20 4d 61 6e 69 70 75  6c 61 74 65 20 74 61 73  |( Manipulate tas|
00000430  6b 73 20 20 32 38 30 35  38 38 29 20 20 20 20 20  |ks  280588)     |
00000440  3a 20 53 49 4e 47 4c 45  20 20 20 28 20 2d 2d 20  |: SINGLE   ( -- |
00000450  29 20 20 5b 27 5d 20 20  20 20 20 20 20 20 20 20  |)  [']          |
00000460  20 20 20 20 50 41 55 53  45 20 3e 42 4f 44 59 20  |    PAUSE >BODY |
00000470  20 5b 27 5d 20 50 41 55  53 45 20 21 20 3b 20 20  | ['] PAUSE ! ;  |
00000480  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
000004a0  43 4f 44 45 20 4d 55 4c  54 49 20 20 20 28 20 2d  |CODE MULTI   ( -|
000004b0  2d 20 29 20 20 20 20 20  20 20 20 20 20 20 20 20  |- )             |
000004c0  20 20 20 32 31 20 43 2c  20 27 20 28 50 41 55 53  |   21 C, ' (PAUS|
000004d0  45 29 20 40 20 2c 20 20  32 32 20 43 2c 20 27 20  |E) @ ,  22 C, ' |
000004e0  20 20 20 50 41 55 53 45  20 2c 20 20 32 31 20 43  |   PAUSE ,  21 C|
000004f0  2c 20 27 20 52 45 53 54  41 52 54 20 40 20 2c 20  |, ' RESTART @ , |
00000500  20 20 20 33 45 20 43 2c  20 20 43 33 20 43 2c 20  |   3E C,  C3 C, |
00000510  20 33 32 20 43 2c 20 49  4e 54 23 20 38 20 2a 20  | 32 C, INT# 8 * |
00000520  20 20 20 2c 20 32 32 20  43 2c 20 49 4e 54 23 20  |   , 22 C, INT# |
00000530  38 20 2a 20 31 2b 20 2c  20 20 20 20 20 20 20 20  |8 * 1+ ,        |
00000540  20 20 20 43 33 20 43 2c  20 3e 4e 45 58 54 20 2c  |   C3 C, >NEXT ,|
00000550  20 20 45 4e 44 2d 43 4f  44 45 20 20 20 20 20 20  |  END-CODE      |
00000560  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000580  55 50 20 40 20 57 41 4b  45 20 20 45 4e 54 52 59  |UP @ WAKE  ENTRY|
00000590  20 21 4c 49 4e 4b 20 20  44 45 43 49 4d 41 4c 20  | !LINK  DECIMAL |
000005a0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000620  28 20 41 6b 74 69 76 61  74 65 20 61 20 54 61 73  |( Aktivate a Tas|
00000630  6b 20 20 32 34 30 35 38  38 29 20 20 20 20 20 20  |k  240588)      |
00000640  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000660  3a 20 54 41 53 4b 3a 20  28 20 73 69 7a 65 20 2d  |: TASK: ( size -|
00000670  2d 20 29 20 5c 20 3e 3d  20 33 34 20 30 20 62 79  |- ) \ >= 34 0 by|
00000680  20 20 20 20 43 52 45 41  54 45 20 54 4f 53 20 20  |    CREATE TOS  |
00000690  48 45 52 45 20 23 55 53  45 52 20 40 20 20 20 20  |HERE #USER @    |
000006a0  20 20 20 20 43 4d 4f 56  45 20 20 20 5c 20 43 6f  |    CMOVE   \ Co|
000006b0  70 79 20 74 68 65 20 55  53 45 52 20 41 72 65 61  |py the USER Area|
000006c0  20 20 20 20 40 4c 49 4e  4b 20 20 55 50 20 40 20  |    @LINK  UP @ |
000006d0  2d 52 4f 54 20 20 48 45  52 45 20 55 50 20 21 20  |-ROT  HERE UP ! |
000006e0  20 20 20 20 21 4c 49 4e  4b 20 5c 20 49 20 70 6f  |    !LINK \ I po|
000006f0  69 6e 74 20 77 65 72 65  20 68 65 20 64 69 64 20  |int were he did |
00000700  20 20 20 20 44 55 50 20  48 45 52 45 20 2b 20 20  |    DUP HERE +  |
00000710  44 55 50 20 52 50 30 20  21 20 20 34 38 20 2d 20  |DUP RP0 !  48 - |
00000720  20 20 20 20 53 50 30 20  21 20 20 53 57 41 50 20  |    SP0 !  SWAP |
00000730  55 50 20 21 20 20 20 20  20 20 20 20 20 20 20 20  |UP !            |
00000740  20 20 20 20 48 45 52 45  20 20 45 4e 54 52 59 20  |    HERE  ENTRY |
00000750  4c 4f 43 41 4c 20 21 4c  49 4e 4b 20 20 20 20 20  |LOCAL !LINK     |
00000760  20 20 20 20 20 5c 20 68  65 20 70 6f 69 6e 74 73  |     \ he points|
00000770  20 74 6f 20 6d 65 20 20  20 20 20 20 20 20 20 20  | to me          |
00000780  20 20 20 20 48 45 52 45  20 23 55 53 45 52 20 40  |    HERE #USER @|
00000790  20 2b 20 20 48 45 52 45  20 44 50 20 20 20 20 20  | +  HERE DP     |
000007a0  20 20 20 20 4c 4f 43 41  4c 20 21 20 48 45 52 45  |    LOCAL ! HERE|
000007b0  20 53 4c 45 45 50 20 41  4c 4c 4f 54 20 3b 20 20  | SLEEP ALLOT ;  |
000007c0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000820
