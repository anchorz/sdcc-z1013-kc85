00000000  00 34 ff 3b 00 02 44 52  49 53 d6 19 46 d3 d3 d3  |.4.;..DRIS..F...|
00000010  5a 38 30 20 2d 20 46 6f  72 74 68 20 41 73 31 20  |Z80 - Forth As1 |
00000020  28 20 32 31 20 5a 38 30  20 2d 20 46 6f 72 74 68  |( 21 Z80 - Forth|
00000030  20 41 73 73 73 65 6d 62  6c 65 72 20 29 20 20 20  | Asssembler )   |
00000040  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000060  4f 4e 4c 59 20 46 4f 52  54 48 20 41 4c 53 4f 20  |ONLY FORTH ALSO |
00000070  20 44 45 46 49 4e 49 54  49 4f 4e 53 20 20 20 20  | DEFINITIONS    |
00000080  44 45 43 49 4d 41 4c 20  20 20 20 20 20 20 20 20  |DECIMAL         |
00000090  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
000000a0  41 53 53 45 4d 42 4c 45  52 20 41 4c 53 4f 20 20  |ASSEMBLER ALSO  |
000000b0  44 45 46 49 4e 49 54 49  4f 4e 53 20 20 20 20 20  |DEFINITIONS     |
000000c0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
000000e0  20 44 45 46 45 52 20 43  2c 20 46 4f 52 54 48 20  | DEFER C, FORTH |
000000f0  27 20 43 2c 20 20 20 20  20 20 20 20 20 20 20 20  |' C,            |
00000100  20 41 53 53 45 4d 42 4c  45 52 20 49 53 20 43 2c  | ASSEMBLER IS C,|
00000110  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00000120  20 44 45 46 45 52 20 2c  20 20 46 4f 52 54 48 20  | DEFER ,  FORTH |
00000130  27 20 2c 20 20 20 20 20  20 20 20 20 20 20 20 20  |' ,             |
00000140  20 41 53 53 45 4d 42 4c  45 52 20 49 53 20 2c 20  | ASSEMBLER IS , |
00000150  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00000160  20 44 45 46 45 52 20 48  45 52 45 20 46 4f 52 54  | DEFER HERE FORT|
00000170  48 20 27 20 48 45 52 45  20 20 20 20 20 20 20 20  |H ' HERE        |
00000180  20 41 53 53 45 4d 42 4c  45 52 20 49 53 20 48 45  | ASSEMBLER IS HE|
00000190  52 45 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |RE              |
000001a0  20 44 45 46 45 52 20 3e  4d 41 52 4b 20 20 20 20  | DEFER >MARK    |
000001b0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
000001c0  20 44 45 46 45 52 20 3f  3e 52 45 53 4f 4c 56 45  | DEFER ?>RESOLVE|
000001d0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
000001e0  20 44 45 46 45 52 20 3c  4d 41 52 4b 20 20 20 20  | DEFER <MARK    |
000001f0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00000200  20 44 45 46 45 52 20 3f  3c 52 45 53 4f 4c 56 45  | DEFER ?<RESOLVE|
00000210  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00000220  28 20 20 20 20 5a 38 30  20 2d 20 46 6f 72 74 68  |(    Z80 - Forth|
00000230  20 41 73 73 73 65 6d 62  6c 65 72 20 29 20 20 20  | Asssembler )   |
00000240  48 45 58 20 20 20 20 20  20 20 20 20 20 20 20 20  |HEX             |
00000250  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00000260  3a 20 52 45 47 20 20 20  28 20 41 64 72 6d 6f 64  |: REG   ( Adrmod|
00000270  65 20 52 65 67 69 73 74  65 72 63 6f 64 2d 2d 29  |e Registercod--)|
00000280  20 20 20 20 20 28 20 20  35 78 20 7c 20 20 33 62  |     (  5x |  3b|
00000290  20 6d 6f 64 65 20 7c 20  20 38 62 20 72 65 67 29  | mode |  8b reg)|
000002a0  20 20 20 53 57 41 50 20  20 31 30 30 20 2a 20 20  |   SWAP  100 *  |
000002b0  4f 52 20 43 4f 4e 53 54  41 4e 54 20 3b 20 20 20  |OR CONSTANT ;   |
000002c0  56 41 52 49 41 42 4c 45  20 44 49 53 50 4c 20 20  |VARIABLE DISPL  |
000002d0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
000002e0  3a 20 44 49 53 50 21 20  20 20 44 49 53 50 4c 20  |: DISP!   DISPL |
000002f0  21 20 3b 20 20 20 20 20  20 20 20 20 20 20 20 20  |! ;             |
00000300  3a 20 58 59 20 20 20 43  2c 20 20 30 46 30 30 30  |: XY   C,  0F000|
00000310  20 4f 52 20 3b 20 20 20  20 20 20 20 20 20 20 20  | OR ;           |
00000320  20 30 20 30 20 52 45 47  20 28 42 43 29 20 20 20  | 0 0 REG (BC)   |
00000330  30 20 31 30 20 52 45 47  20 28 44 45 29 20 20 20  |0 10 REG (DE)   |
00000340  20 31 20 30 20 52 45 47  20 23 20 20 20 20 20 20  | 1 0 REG #      |
00000350  31 20 20 31 20 52 45 47  20 23 29 20 20 20 20 20  |1  1 REG #)     |
00000360  20 32 20 30 20 52 45 47  20 42 20 20 20 20 20 20  | 2 0 REG B      |
00000370  32 20 20 31 20 52 45 47  20 43 20 20 20 20 20 20  |2  1 REG C      |
00000380  20 32 20 32 20 52 45 47  20 44 20 20 20 20 20 20  | 2 2 REG D      |
00000390  32 20 20 33 20 52 45 47  20 45 20 20 20 20 20 20  |2  3 REG E      |
000003a0  20 32 20 34 20 52 45 47  20 48 20 20 20 20 20 20  | 2 4 REG H      |
000003b0  32 20 20 35 20 52 45 47  20 4c 20 20 20 20 20 20  |2  5 REG L      |
000003c0  20 32 20 36 20 52 45 47  20 28 48 4c 29 20 20 20  | 2 6 REG (HL)   |
000003d0  32 20 20 37 20 52 45 47  20 41 20 20 20 20 20 20  |2  7 REG A      |
000003e0  33 20 30 30 20 52 45 47  20 42 43 20 20 20 20 20  |3 00 REG BC     |
000003f0  33 20 31 30 20 52 45 47  20 44 45 20 20 20 20 20  |3 10 REG DE     |
00000400  33 20 32 30 20 52 45 47  20 48 4c 20 20 20 20 20  |3 20 REG HL     |
00000410  33 20 33 30 20 52 45 47  20 41 46 20 20 20 20 20  |3 30 REG AF     |
00000420  28 20 20 20 20 5a 38 30  20 2d 20 46 6f 72 74 68  |(    Z80 - Forth|
00000430  20 41 73 73 73 65 6d 62  6c 65 72 20 29 20 20 20  | Asssembler )   |
00000440  20 33 20 33 30 20 52 45  47 20 53 50 20 20 20 20  | 3 30 REG SP    |
00000450  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00000460  20 34 20 20 30 20 52 45  47 20 49 20 20 20 20 20  | 4  0 REG I     |
00000470  34 20 31 20 52 45 47 20  52 20 20 20 20 20 20 20  |4 1 REG R       |
00000480  20 35 20 20 30 20 52 45  47 20 28 53 50 29 20 20  | 5  0 REG (SP)  |
00000490  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
000004a0  3a 20 28 49 58 29 20 20  20 44 49 53 50 21 20 20  |: (IX)   DISP!  |
000004b0  28 48 4c 29 20 30 44 44  20 58 59 20 3b 20 20 20  |(HL) 0DD XY ;   |
000004c0  3a 20 28 49 59 29 20 20  20 44 49 53 50 21 20 20  |: (IY)   DISP!  |
000004d0  28 48 4c 29 20 30 46 44  20 58 59 20 3b 20 20 20  |(HL) 0FD XY ;   |
000004e0  3a 20 49 58 20 20 20 48  4c 20 20 30 44 44 20 58  |: IX   HL  0DD X|
000004f0  59 20 3b 20 20 20 20 20  20 20 20 20 20 20 20 20  |Y ;             |
00000500  3a 20 49 59 20 20 20 48  4c 20 20 30 46 44 20 58  |: IY   HL  0FD X|
00000510  59 20 3b 20 20 20 20 20  20 20 20 20 20 20 20 20  |Y ;             |
00000520  3a 20 4d 44 20 20 20 43  52 45 41 54 45 20 20 31  |: MD   CREATE  1|
00000530  30 30 20 2a 20 2c 20 20  20 20 20 20 20 20 20 20  |00 * ,          |
00000540  20 20 20 20 20 20 28 20  6e 20 4d 44 20 6e 61 6d  |      ( n MD nam|
00000550  65 20 29 20 20 20 20 20  20 20 20 20 20 20 20 20  |e )             |
00000560  20 20 20 20 44 4f 45 53  3e 20 20 40 20 53 57 41  |    DOES>  @ SWA|
00000570  50 20 30 46 30 30 20 41  4e 44 20 3d 20 3b 20 20  |P 0F00 AND = ;  |
00000580  20 20 20 20 20 20 28 20  6e 20 2d 2d 20 74 66 3d  |      ( n -- tf=|
00000590  6d 6f 64 65 20 73 74 69  6d 6d 74 29 20 20 20 20  |mode stimmt)    |
000005a0  20 20 20 20 20 20 28 20  2d 2d 20 66 66 3d 73 74  |      ( -- ff=st|
000005b0  69 6d 6d 74 20 6e 69 63  68 74 29 20 20 20 20 20  |immt nicht)     |
000005c0  30 20 4d 44 20 49 4e 44  3f 20 20 20 20 31 20 4d  |0 MD IND?    1 M|
000005d0  44 20 23 3f 20 20 20 20  20 20 20 20 20 20 20 20  |D #?            |
000005e0  32 20 4d 44 20 52 38 3f  20 20 20 20 20 33 20 4d  |2 MD R8?     3 M|
000005f0  44 20 52 31 36 3f 20 20  20 20 20 20 20 20 20 20  |D R16?          |
00000600  34 20 4d 44 20 45 58 54  52 41 3f 20 20 20 20 20  |4 MD EXTRA?     |
00000610  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
00000620  28 20 20 20 20 5a 38 30  20 2d 20 46 6f 72 74 68  |(    Z80 - Forth|
00000630  20 41 73 73 73 65 6d 62  6c 65 72 20 29 20 20 20  | Asssembler )   |
00000640  3a 20 3f 4f 4b 20 20 20  28 20 74 66 7c 66 66 20  |: ?OK   ( tf|ff |
00000650  2d 2d 20 29 20 4e 4f 54  20 20 20 20 20 20 20 20  |-- ) NOT        |
00000660  20 20 20 20 41 42 4f 52  54 22 20 69 6e 63 6f 72  |    ABORT" incor|
00000670  72 65 63 74 20 6f 70 63  6f 64 65 22 20 20 3b 20  |rect opcode"  ; |
00000680  3a 20 52 4c 4f 57 20 20  20 28 20 6e 20 2d 2d 20  |: RLOW   ( n -- |
00000690  6e 31 20 29 20 20 30 46  46 20 41 4e 44 20 3b 20  |n1 )  0FF AND ; |
000006a0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
000006c0  3a 20 2d 58 59 20 20 20  30 46 46 46 20 41 4e 44  |: -XY   0FFF AND|
000006d0  20 3b 20 20 20 20 20 20  20 20 20 20 20 20 20 20  | ;              |
000006e0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000700  3a 20 2b 2c 20 20 20 28  20 6e 31 20 6e 32 20 2d  |: +,   ( n1 n2 -|
00000710  2d 20 29 20 20 2b 20 43  2c 20 3b 20 20 20 20 20  |- )  + C, ;     |
00000720  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000740  3a 20 52 45 47 2c 20 20  20 53 57 41 50 20 52 4c  |: REG,   SWAP RL|
00000750  4f 57 20 20 2b 2c 20 3b  20 20 20 20 20 20 20 20  |OW  +, ;        |
00000760  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
00000780  3a 20 52 2a 38 2c 20 20  20 52 4c 4f 57 20 20 38  |: R*8,   RLOW  8|
00000790  20 2a 20 2b 2c 20 3b 20  20 20 20 20 20 20 20 20  | * +, ;         |
000007a0  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20  |                |
*
000007c0  3a 20 44 49 53 2c 20 20  20 30 3c 20 20 49 46 20  |: DIS,   0<  IF |
000007d0  44 49 53 50 4c 20 40 20  43 2c 20 20 20 20 20 20  |DISPL @ C,      |
000007e0  20 20 20 20 44 49 53 50  4c 20 4f 46 46 20 20 54  |    DISPL OFF  T|
000007f0  48 45 4e 20 3b 20 20 20  20 20 20 20 20 20 20 20  |HEN ;           |
00000800  3a 20 48 4c 58 59 3f 20  20 20 2d 58 59 20 20 48  |: HLXY?   -XY  H|
00000810  4c 20 3d 20 3b 20 20 20  20 20 20 20 20 20 20 20  |L = ;           |
00000820
