
                   POWER.DOC  

Universelles Manipulationsprogramm fuer Diskettenarbeit
=======================================================


Aufruf des Programmes unter seinem Namen:

          POWER

Danach wird ein Buchstabe zur Kennzeichnung eines Laufwerks (i.a. 
A:) ausgegeben. Wird ein anderes Laufwerk gewuenscht, kann dieses 
mit  der  Eingabe des Laufwerkbezeichners  (z.B.  B:)  angewaehlt 
werden.  Die nachfolgende Eingabe kann ein Kommando sein.  Einige 
Kommandos  zeigen  auf dem Bildschirm die  Directory  (evtl.  nur   
Dateigruppen)  an mit einer laufenden Nummer.  Diese Nummer dient 
zur   Kennzeichnung  der  Datei  zur  weiteren  Bearbeitung   des 
Kommandos.  Nach der Frage "SELECT:" kann nun eine,  mehrere oder 
Gruppen  von  Dateien durch diese Nummer  angegeben  werden.  Die 
Ziffern sind durch Leerzeichen voneinander zu  trennen,  Bereiche 
werden durch Anfang und Ende,  mit Minus (-) verbunden angegeben. 
Fehlt  bei  einem  Bereich die Angabe des  Endes,  wird  bis  zur 
letzten Nummer der Bereich gesetzt (z.B. 1 2 5-7 9-). 

Nach  einem Kommando kann eine Dateigruppenbezeichnung  angegeben 
werden,  wenn  das sinnvoll ist.  Die Anzeige und Auswahl erfolgt 
dann  nur  fuer diese  Dateigruppe.  Ein  Laufwerkbezeichner  vor 
dieser  Angabe oder auch nur der Laufwerkbezeichner allein lassen 
das Kommando auf dem angegebenen Laufwerk wirksam werden.

Werden Disketten gewechselt waehrend der Arbeit mit  POWER,  dann 
ist  ^C vor der weiteren Eingabe zu geben,  sonst wird dies durch 
eine   Ausschrift  verlangt.   ^C  unterbricht  ausserdem   jedes 
Kommando, waehrend ESC (Escape) ein Kommando abbricht.

Das   Zeichen  BS  (Backspace)  gestattet  die  Korrektur   einer 
Kommandozeile vor der Eingabe des abschliessenden RETURN.

Zusaetzlich  koennen  bei jedem  Kommando  weitere  Optionen,  in 
eckige  Klammern eingeschlossen,  angegeben werden.  Fehlt  diese 
Angabe,  wird ein Standard gesetzt,  der mit dem Kommando LOG auf 
dem Bildschirm angezeigt werden kann.

Alle   Kommandos   koennen  durch  Eingabe  eines   Fragezeichens 
(Helpfunktion) angezeigt werden,  bei falschen Kommandos wird auf 
diese Moeglichkeit hingewiesen.

Auswahl des Laufwerkes:       A:, B:,...,D:
oder auch                     1:, 2:,...,9:
Die Angabe eines Kassettenlaufwerkes ist nicht moeglich.

Auswahl der Files:
Angabe einzeln:               1 3 7...
Angabe fuer Gruppen:          3-8; 8-  (8 bis Ende)

Folgende  Abkuerzungen werden in der Beschreibung  der  Kommandos 
verwendet:
     com       Kommando
     ufn       Filename
     adr       Adresse, hexadezimal angegeben


Kommandos:
==========
  
CHECK                 -  Kontrollsumme  gesamt.   Errechnet  eine 
     Kontrollsumme fuer die ausgewaehlten Dateien.
                      
CM aadr  eadr adr2    -  vergleicht Speicher aadr..eadr mit aadr. 
     Es   wird  ein  byteweiser  Vergleich  der   Speicherinhalte 
     durchgefuehrt  und  Abweichungen  mit  Adresse  und   Inhalt 
     angezeigt.       
                      
COPY                  -  Kopieren von Dateien.  Die ausgewaehlten 
     Dateien  werden  auf  ein  anderes  Laufwerk  kopiert.   Die 
     Optionen sind:
     [A]  automatisches Kopieren auch der Ueberlagerungen
     [B]  automatisches Aendern der Namenserweiterung in .BAK
     [C]  fragt, wenn File bereits existiert
     [D]  loescht automatisch vorhandene Files gleichen Namens
     [T]  stellt die Reihenfolge des Kopierens nach der Groesse
     [M]  markiert originale und kopierte Files
     [Q]  aendert den Namen waehrend des Kopierens 

DIR [UXi]            Anzeige der Directory
     U - alle USER-Felder    
     X - alle gewuenschten Laufwerke
     i - Anzahl der Spalten
     Kennzeichnung der Files:
     *    - File ist R/O (schreibgeschuetzt)
     (..) - File ist SYS (systemgeschuetzt) 
     Durch die Option [S] kann die Anzeige von Systemfiles unter-
     drueckt werden.

DISK                  - Anzeige des DISK-Status

DS adr                - Anzeigen und aendern ab  Speicheradresse.                      
     Eingabeart kann gewechselt werden.
     .H              hexadezimal
     .D              dezimal
     .A              im ASCII - Code
     .B              binaer
     .. oder <esc>   beenden der Eingabe
    
DUMP adr             - Anzeige eines Speicherbereiches in  ASCII. 
     Die Anzeige erfolgt als Text.  Alle nicht druckbaren Zeichen 
     werden nicht angezeigt. 

DUMPX                 - HEX- und ASCII- Anzeige auf Bildschirm
DUMPH                 - HEX- Anzeige auf Bildschirm
DUMPA                 - ASCII- Anzeige ohne Tabulatoren
     Die Adresse kann folgend anWegeben werden:
     .       - 128 Bytes ab aktueller Position
     ,i      - i Bytes   ab      "         "
     ,,      - weiter    ab      "         "
     adr     - 1 Byte von adr
     adr,i   - i Byte ab adr 
     adr,    - 128 Bytes von adr
     adr,,   - alle Bytes 

ERA                   - Loeschen der ausgewaehlten Dateien
ERA [R]               - Loeschen mit vorheriger Frage
  
EXIT                  -  verlaesst POWER mit Speichertest 
     (? wenn Fehler)
  
FILL aadr eadr byte   - Fuellt Speicher von aadr-eadr mit byte
  
GO ufn adr            -  laedt File ufn nach adr und startet es

GROUP                 -  Zeigt  alle Filegruppen auf Display  an. 
     Die Filegruppen sind die Dateibloecke,  die in der Directory 
     die gestreute Speicherung auf Diskette angeben.  Es wird die 
     logische  Nummer  jedes verwendeten Dateiblockes  der  Datei 
     angegeben, vor jeder Angabe steht noch die Extend-Nummer.

JP adr arg            -  startet Programm ab adr. Dann wird Warm-
     start   ausgefuehrt.    arg   ist   Kommandozeile   wie   im 
     Betriebssystem.
  
EX  adr  arg          -  startet Programm ab  adr,  dann  zurueck 
     nach POWER    
                    
LOAD ufn  adr           -   laedt  ufn nach adr.  Es  wird  keine 
     Veraenderung  des Files vorgenommen.  Der Bereich von  POWER 
     darf nicht ueberschrieben werden (siehe LOG).

SAVE ufn adr [sect]  -  rettet adr nach ufn.  Der Transport  wird 
     fuer  die  angegebene Zahl von Sektoren  ausgefuehrt.  Diese 
     Angabe  kann entfallen,  wenn vorher das File ufn  mit  LOAD 
     geladen wurde.
     
LOG                - zeigt  die  gestellten Schalter auf  Display 
     an.  Gleichzeitig wird der freie Anwenderspeicher angegeben. 
     Die  Schalter  koennen durch die Angabe in  eckige  Klammern 
     gestellt werden. Jede Angabe schaltet die Wirkung um: 
      A - automatisches Ueberschreiben von Dateien beim Kopieren
      B -    -//- Umbenennen alter Dateien in .BAK    -//-  
      C - fragt wenn die Datei beim Kopieren schon existiert
      D  - automatisches  Uebergehen existierender  Dateien  beim 
        Kopieren
      P - Bildschirmanzeige (ON-paging, OFF-scrolling)
      Q - Umbenennen von Dateien beim Kopieren
      R - fordert eine Y/N-Entscheidung bei der behandelten Datei
      S - zeigt SYSTEM-Dateien an bzw. unterdrueckt sie
      T - Fortsetzung,  wenn beim Kopieren Disk voll (ON-Abbruch, 
        OFF=naechstkleinere Datei)
      M - markieren von Original und Kopie

MOVE aadr eadr aadr2 - Speichertransport. Es wird der Speicherbe-
     reich  aadr  bis eadr nach adr2  verschoben.  Der  Transport 
     erfolgt aufsteigend, Ueberdeckungen sind zu vermeiden.

READ trk sec [adr [nsec]] - Lesen von Diskette. Von Spur trk,Sektor 
     sec  werden nsec Sektoren (Standard 1) vom aktuellen Laufwerk
     gelesen und auf Speicherbereich adr (Standard 80H) transportiert.
   
READ trk sec kind nsec - Lesen von Diskette.  Ab Spur trk, Sektor 
     sec   werden   nsec   Sektoren  gelesen  und   auf   Display 
     dargestellt. kind bedeutet dabei:
     XX   HEX- und ASCII- Darstellung
     XH   HEX- Darstellung
     XA   ASCII- Darstellung

READGR  ngroup  adr nsec  - Lesen von Diskette.  Es  werden  nsec 
     Sektoren  einer  Speichergruppe (logische Nummer wie  DM  in 
     Directory)  von  Diskette gelesen und nach dem  Speicher  ab 
     Adresse adr transportiert.

READGR  ngroup  kind nsec - Lesen von Diskette.   Es werden  nsec 
     Sektoren  einer  Speichergruppe (logische Nummer wie  DM  in 
     Directory) und auf Display dargestellt. kind bedeutet dabei:
     XX   HEX- und ASCII- Darstellung
     XH   HEX- Darstellung
     XA   ASCII- Darstellung

WRITE trk sec [adr [nsec]]    - Schreiben auf Diskette. Nach Spur 
     trk,  Sektor  sec  werden  nsec Sektoren  (Standard  1)  vom 
     Speicherbereich adr (Standard 80H) auf die aktuelle Diskette 
     transportiert.

WRITEGR ngroup adr nsec - Schreiben auf Diskette. Wie vor, jedoch 
     vom Speicher ab Adresse adr nach Diskette, logische Gruppen-
     nummer ngroup mit nsec Sektoren.

RECLAIM             - Wiederherstellen geloeschter Files. Bereits 
     geloeschte  Files werden wieder gueltig,  wenn sie noch  den 
     alten Dateninhalt haben.

REN                 - Umbenennen   Filename.   Die  ausgewaehlten 
     Files  koennen umbenannt werden.  Dazu wird nach  dem  neuen 
     Namen  gefragt bei jedem File.  Die Angabe eines Sternes "*" 
     im Namen oder der Namenserweiterung laesst den alten Namens
     teil unveraendert:
     *.ext  --> setzt eine andere Namenserweiterung ext
     name.* --> setzt einen anderen Namen name

RESET d:            - Setzt Laufwerk d zurueck.  Dieses  Kommando 
     gestattet das Ruecksetzten einzelner Laufwerke und damit den 
     Diskettenwechsel auf diesem Laufwerk.

RUN [ufn  param]      - Laedt und startet das .COM-File  ufn.  Es 
     duerfen Parameter angegeben werden.

SEARCH  aadr eadr byte.... - Sucht im Speicher nach byte ab  aadr 
     bis  eadr.  Die  gefundenen Bytes werden mit  ihrer  Adresse 
     angezeigt. Fuer byte kann ausserdem angegeben werden:
     ?    zeigt alle Bytes des Bereiches an
     ""   schliesst ein ASCII-Zeichen ein, welches gesucht wird

SET [-{1..8,S,R,X}]  - Setzt  Fileskennzeichen.   Es  werden  bei 
     Angabe einer Ziffer n das n.  Zeichen des Filenamens mit dem 
     Bit  7  = 1 gesetzt.  S,  R und X setzen das Bit 7 =  1  der 
     Namenserweiterung.

SET [+{....}]         - Setzt Fileskennzeichen zurueck.  Wie vor, 
     es wird im angegegebenen Zeichen das Bit 7 auf Null gesetzt.

SET                  - Zeigt die gesetzten 7.Bits an
   
SETDIR               - Setzt DIR/SYS - Attribute
SETSYS
 
SETRO                - Setzt R/O oder R/W - Attribute
SETWR
  
SIZE                 - Zeigt die Groesse der Datei an.  Es werden 
     angezeigt:  Sektoren, freie Sektoren, Kilobyte und Gesamtbe-
     legung

SORT i                  - Sortiert Files zur Anzeige.  Die  Files 
     werden sortiert angezeigt:
     i = O      unsortiert
     i = 1      sortiert nach dem Filenamen
     i = 2      wie 1, SYS-File zuletzt
     i = 3      sortiert nach Namenserweiterung
     i = 4      wie 3, SYS-File zuletzt

SPEED i              - Setzt Ausgabegeschwindigkeit
     i = 0      schnell
     ...
     i = 9      sehr langsam
  
STAT d:              - Zeigt freien Speicherplatz auf Diskette  d 
     (und allen anderen aktiven Laufwerken)
  
TEST                - Test.  Liest  alle Sektoren und zeigt  dies 
     an.  Fehlerhafte  Sektoren werden mit ===...,===  angezeigt, 
     repariert  alle Filegruppen und defekten Files und errechnet 
     eine  Kontrollsumme.  Nicht reparierbare Spuren  werden  mit 
     einem besonderen Filenamen belegt und nicht in die Directory 
     aufgenommen (R/O und SYS-Attribute gesetzt).

TEST S               - Test  vie vor.  Es werden zusaetzlich  die 
     beiden Systemspuren ueberprueft.
 
TYPE [A,H,X]           - Zeigt Files auf Display  an  (TYPE).  ^K 
     beendet  die Ausgabe,  es wird das naechste File  angezeigt. 
     Die Ausgabe kann gesteuert werden mit einer Option:
     [A]  Ausgabe in ASCII
     [H]  Ausgabe in HEX
     [X]  Ausgabe in ASCII und HEX

USER i              - Schaltet zum USER i um

XUSER i              - Setzt  das  Ziel  fuer  das  Kopieren  auf 
     Anwender i.

UR1...4             - Anwenderkommandos.  Sind diese installiert, 
     koennen sie aufgerufen werden.Sie muessen in folgenden Spei-
     cherplaetzen von POWER angegeben werden:
     UR1  140..147H
     UR2  148..14fH
     UR3  150..157H
     UR4  158..15FH
Umgesetzt mit MPC 4 fuer Z 1013 by (c)AK .

